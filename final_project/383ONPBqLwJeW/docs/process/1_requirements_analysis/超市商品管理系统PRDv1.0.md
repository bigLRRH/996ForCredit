# 产品需求文档（PRD）

## 项目名称：东风日杂商店管理系统

## 修订历史记录

| 日期（年/月/日） | 版本 | 描述 | 作者 | 审核人 |
| ---------------- | ---- | ---- | ---- | ------ |
| 2023/08/16       | 1.0  | 初稿 | 鲁卢 | 鲁卢   |
| 2023/08/17       | 1.1  | 增加登录功能 | 鲁卢 | 鲁卢 |

## 目录

- [产品需求文档（PRD）](#产品需求文档prd)
  - [项目名称：东风日杂商店管理系统](#项目名称东风日杂商店管理系统)
  - [修订历史记录](#修订历史记录)
  - [目录](#目录)
  - [1. 摘要](#1-摘要)
    - [1.1 适用对象](#11-适用对象)
    - [1.2 业务背景](#12-业务背景)
    - [1.3 实现范围](#13-实现范围)
    - [1.4 关键词](#14-关键词)
  - [1.5 重要说明/风险](#15-重要说明风险)
  - [2. 业务流程](#2-业务流程)
    - [2.1 用例图](#21-用例图)
      - [2.1.1 库存管理](#211-库存管理)
      - [2.1.2 进货管理](#212-进货管理)
      - [2.1.3 销售管理](#213-销售管理)
    - [2.2 业务流程图](#22-业务流程图)
  - [3. 用例详述](#3-用例详述)
    - [3.1 使用库存管理功能的用例](#31-使用库存管理功能的用例)
      - [3.1.1 用例描述](#311-用例描述)
      - [3.1.2 用例条件](#312-用例条件)
      - [3.1.3 业务规则](#313-业务规则)
      - [3.1.4 基本流](#314-基本流)
        - [3.1.4.1 入口](#3141-入口)
        - [3.1.4.2 查看商品信息](#3142-查看商品信息)
        - [3.1.4.3 添加商品信息](#3143-添加商品信息)
        - [3.1.4.4 修改商品信息](#3144-修改商品信息)
        - [3.1.4.5 删除商品信息](#3145-删除商品信息)
        - [3.1.4.6 设置库存警报](#3146-设置库存警报)
        - [3.1.4.7 生成库存报告](#3147-生成库存报告)
    - [3.2 使用进货管理功能的用例](#32-使用进货管理功能的用例)
      - [3.2.1 用例描述](#321-用例描述)
      - [3.2.2 用例条件](#322-用例条件)
      - [3.2.3 业务规则](#323-业务规则)
      - [3.2.4 基本流](#324-基本流)
        - [3.2.4.1 入口](#3241-入口)
        - [3.2.4.2 编辑订货单](#3242-编辑订货单)
        - [3.2.4.3 生成商品验收信息](#3243-生成商品验收信息)
        - [3.2.4.4 商品验收](#3244-商品验收)
        - [3.2.4.5 生成入库记录](#3245-生成入库记录)
        - [3.2.4.6 入库](#3246-入库)
        - [3.2.4.7 查看进货报告](#3247-查看进货报告)
    - [3.3 使用销售管理功能的用例](#33-使用销售管理功能的用例)
      - [3.3.1 用例描述](#331-用例描述)
      - [3.3.2 用例条件](#332-用例条件)
      - [3.3.3 业务规则](#333-业务规则)
      - [3.3.4 基本流](#334-基本流)
        - [3.3.4.1 入口](#3341-入口)
        - [3.3.4.2 创建销售订单](#3342-创建销售订单)
        - [3.3.4.3 查看销售订单](#3343-查看销售订单)
        - [3.3.4.4 更新销售订单](#3344-更新销售订单)
        - [3.3.4.5 结账](#3345-结账)
        - [3.3.4.6 创建上架计划](#3346-创建上架计划)
        - [3.3.4.7 生成上架单](#3347-生成上架单)
        - [3.3.4.8 完成上架](#3348-完成上架)
        - [3.3.4.9 生成销售报告](#3349-生成销售报告)
        - [3.3.4.10 进行销售数据分析](#33410-进行销售数据分析)
        - [3.3.4.11 生成每日上架商品清单和自动生成补货单](#33411-生成每日上架商品清单和自动生成补货单)
  - [4. 对其他需求的影响](#4-对其他需求的影响)
    - [4.1 用户行为数据分析（未来版本考虑）](#41-用户行为数据分析未来版本考虑)
  - [5 非功能需求](#5-非功能需求)
    - [5.1 性能要求](#51-性能要求)
    - [5.2 安全要求](#52-安全要求)
    - [5.3 备份与恢复要求](#53-备份与恢复要求)
    - [5.4 系统日志](#54-系统日志)
    - [5.5 用户界面要求](#55-用户界面要求)
    - [5.6 系统部署要求](#56-系统部署要求)
  - [接口说明](#接口说明)
    - [6.1 RESTful API接口](#61-restful-api接口)
    - [6.2 数据库接口](#62-数据库接口)
    - [6.3 商品扫描接口](#63-商品扫描接口)
  - [7. 附件](#7-附件)

## 1. 摘要

### 1.1 适用对象

本产品适用于东风日杂商店，是一款商店管理系统，用于帮助商店管理库存、进货、销售等业务流程。
  
### 1.2 业务背景

东风日杂商店是一家小型商店，主要经营日常生活用品。商店的管理人员需要管理库存、进货、销售等业务流程，以确保商店的正常运营。目前，商店的管理人员采用手工记录的方式进行管理，这种方式存在效率低下、容易出错等问题。因此，商店需要一款管理系统来提高管理效率。

### 1.3 实现范围

本产品的实现范围包括以下功能：

库存管理：包括商品入库、出库、库存盘点等功能，帮助管理人员实时掌握商品库存情况。  
进货管理：包括订购商品、接收商品、处理退货等功能，帮助管理人员管理进货流程。  
销售管理：包括销售订单、销售记录、客户管理等功能，帮助管理人员管理销售流程。  

### 1.4 关键词

| 关键词 | 解释 |
|---|---|
| 管理员 | 负责进货管理、库存管理、销售管理等工作的人员 |
| 营业员 | 负责销售开单、上架等工作的人员 |
| 库存管理 | 实时掌握商品库存情况 |
| 进货管理 | 管理进货流程 |
| 销售管理 | 管理销售流程 |

## 1.5 重要说明/风险

暂无重要说明或风险事项。

## 2. 业务流程

### 2.1 用例图

#### 2.1.1 库存管理

![库存管理用例图](../imgs/%E5%BA%93%E5%AD%98%E7%AE%A1%E7%90%86%E7%94%A8%E4%BE%8B%E5%9B%BE.svg)

#### 2.1.2 进货管理

![进货管理用例图](../imgs/%E8%BF%9B%E8%B4%A7%E7%AE%A1%E7%90%86%E7%94%A8%E4%BE%8B%E5%9B%BE.svg)

#### 2.1.3 销售管理

![销售管理用例图](../imgs/%E9%94%80%E5%94%AE%E7%AE%A1%E7%90%86%E7%94%A8%E4%BE%8B%E5%9B%BE.svg)

### 2.2 业务流程图

![业务流程图](../imgs/%E4%B8%9A%E5%8A%A1%E6%B5%81%E7%A8%8B%E5%9B%BE.svg)

## 3. 用例详述

### 3.1 使用库存管理功能的用例

#### 3.1.1 用例描述

用户可以进行商品信息的增删改查操作，设置库存警报以及生成库存报告。

#### 3.1.2 用例条件

用户已登录到库存管理系统，并且需要**管理员权限**。

#### 3.1.3 业务规则

- 用户必须具有足够的权限才能执行库存管理操作。
- 商品名称在系统中必须唯一。
- 价格必须为有效的数值。
- 系统支持常见的图片格式，并对上传的图片进行大小限制和压缩处理。
- 系统记录商品信息的修改历史，以便追溯和恢复修改操作。
- 删除商品信息时，系统标记商品为删除状态而不是直接从数据库中删除。
- 库存警报通知可以通过电子邮件、短信或其他通知方式发送给用户。
- 库存报告可以导出为Excel、PDF或其他常见的格式。

#### 3.1.4 基本流

##### 3.1.4.1 入口

用户登录到库存管理系统，并获得管理员权限。

##### 3.1.4.2 查看商品信息

1. 用户选择查看商品信息的选项。
2. 系统显示当前的商品列表，包括商品名称、库存数量和警报状态等信息。
3. 用户可以使用筛选和排序功能，按照商品名称、类别、价格等进行筛选和排序。
4. 用户可以使用分页功能，以便处理大量商品的情况。

##### 3.1.4.3 添加商品信息

1. 用户选择添加商品信息的选项。
2. 用户输入新商品的名称、描述、价格等信息。
3. 用户确认并保存商品信息。
4. 系统验证输入的信息是否有效，包括确保商品名称的唯一性和价格的有效性。
5. 如果输入的信息无效，系统提示用户进行修正。
6. 如果输入的信息有效，系统将新商品添加到商品列表中，并为其生成唯一的商品编号。
7. 用户可以选择上传商品图片，并进行大小限制和压缩处理。

##### 3.1.4.4 修改商品信息

1. 用户选择修改商品信息的选项。
2. 用户选择要修改的商品，并进入编辑模式。
3. 用户修改商品的名称、描述、价格等信息。
4. 用户确认并保存修改后的商品信息。
5. 系统验证输入的信息是否有效，并更新商品列表中对应的商品信息。
6. 系统记录商品信息的修改历史，包括修改前后的信息和修改时间。

##### 3.1.4.5 删除商品信息

1. 用户选择删除商品信息的选项。
2. 用户选择要删除的商品。
3. 用户确认删除操作。
4. 系统将选定的商品标记为删除状态。
5. 标记为删除状态的商品在商品列表中不再显示，但仍保留在数据库中以便后续恢复或追溯。

##### 3.1.4.6 设置库存警报

1. 用户选择设置库存警报的选项。
2. 用户选择要设置警报的商品。
3. 用户输入库存警报的阈值。
4. 用户确认并保存警报设置。
5. 系统验证输入的信息是否有效，并更新商品列表中对应商品的警报状态。
6. 系统根据警报状态发送通知给用户，可以通过电子邮件、短信或其他通知方式。

##### 3.1.4.7 生成库存报告

1. 用户选择生成库存报告的选项。
2. 用户选择报告的时间范围和其他筛选条件。
3. 用户确认并生成报告。
4. 系统根据用户的选择生成库存报告，包括商品信息、库存数量和警报状态等。
5. 用户可以选择导出报告为Excel、PDF或其他常见的格式。

### 3.2 使用进货管理功能的用例

#### 3.2.1 用例描述

用户可以编辑订货单，生成商品验收信息和入库记录，并查看进货报告。

#### 3.2.2 用例条件

用户已登录到进货管理系统，并且具有**管理员权限**。

#### 3.2.3 业务规则

- 用户必须具有**管理员权限**才能执行进货管理操作。
- 订货单应包括商品信息、供应商信息和订购数量等。
- 商品验收应基于实际收到的商品与订货单的比对。
- 入库操作应更新库存数量和相关记录。
- 进货报告应包括进货记录的详细信息，包括进货的商品信息、供应商信息和进货数量等。

#### 3.2.4 基本流

##### 3.2.4.1 入口

用户进入进货管理功能界面。

##### 3.2.4.2 编辑订货单

1. 用户选择编辑订货单的选项。
2. 用户选择要订购的商品和供应商。
3. 用户输入订购数量和其他订货信息。
4. 用户确认并保存订货单。
5. 系统验证输入的信息是否有效，并生成订货单。

##### 3.2.4.3 生成商品验收信息

1. 用户选择生成商品验收信息的选项。
2. 系统根据已有的订货单生成对应的商品验收信息，包括商品信息、供应商信息和订购数量等。
3. 生成的商品验收信息可供用户查看和修改。
4. 用户确认并保存商品验收信息。

##### 3.2.4.4 商品验收

1. 用户选择商品验收的选项。
2. 用户选择要验收的商品和对应的商品验收信息。
3. 用户输入实际收到的商品数量。
4. 用户确认并保存验收结果。
5. 系统验证输入的信息是否有效，并与商品验收信息进行比对。

##### 3.2.4.5 生成入库记录

1. 用户选择生成入库记录的选项。
2. 系统根据已有的商品验收信息生成对应的入库记录，包括商品信息、供应商信息和入库数量等。
3. 生成的入库记录可供用户查看和修改。
4. 用户确认并保存入库记录。

##### 3.2.4.6 入库

1. 用户选择入库的选项。
2. 用户选择要入库的商品和对应的入库记录。
3. 用户输入入库数量和其他入库信息。
4. 用户确认并保存入库记录。
5. 系统验证输入的信息是否有效，并更新库存数量和相关记录。

##### 3.2.4.7 查看进货报告

1. 用户选择查看进货报告的选项。
2. 用户选择报告的时间范围和其他筛选条件。
3. 用户确认并生成报告。
4. 系统根据用户的选择生成进货报告，包括进货记录的详细信息，如进货的商品信息、供应商信息和进货数量等。

### 3.3 使用销售管理功能的用例

#### 3.3.1 用例描述

营业员可以创建、查看和更新销售订单，结账。管理员可以创建上架计划，生成上架单，并将上架单交给营业员完成上架。

#### 3.3.2 用例条件

- 营业员已登录到销售管理系统，并具有足够的权限来访问销售管理功能。
- 管理员已登录到销售管理系统，并具有足够的权限来访问销售管理功能。

#### 3.3.3 业务规则

- 营业员只能执行与销售订单相关的操作，包括创建、查看、更新和结账。
- 管理员可以创建上架计划，生成上架单，并将上架单交给营业员完成上架。
- 销售订单应包括商品信息、客户信息和销售数量等。
- 结账操作应更新库存数量和销售记录。
- 系统应检查商品的保质期，并在销售时提示或阻止销售过期商品。
- 在售出时应售出被扫描的商品。

#### 3.3.4 基本流

##### 3.3.4.1 入口

用户进入销售管理功能界面。

##### 3.3.4.2 创建销售订单

1. 营业员选择创建销售订单的选项。
2. 营业员选择要销售的商品和对应的客户。
3. 营业员输入销售数量和其他销售信息。
4. 系统检查商品的保质期是否在阈值范围内，如果商品已过期，系统提示营业员并阻止创建销售订单。
5. 营业员确认并保存销售订单。
6. 系统验证输入的信息是否有效，并生成销售订单。

##### 3.3.4.3 查看销售订单

1. 营业员选择查看销售订单的选项。
2. 营业员选择要查看的销售订单。
3. 系统显示选定销售订单的详细信息，包括商品信息、客户信息和销售数量等。

##### 3.3.4.4 更新销售订单

1. 营业员选择更新销售订单的选项。
2. 营业员选择要更新的销售订单。
3. 营业员修改销售数量或其他销售信息。
4. 系统检查商品的保质期是否在阈值范围内，如果商品已过期，系统提示营业员并阻止更新销售订单。
5. 营业员确认并保存更新后的销售订单。
6. 系统验证输入的信息是否有效，并更新销售订单。

##### 3.3.4.5 结账

1. 营业员选择结账的选项。
2. 营业员选择要结账的销售订单。
3. 营业员扫描每个商品的条形码。
4. 系统检查商品的保质期是否在阈值范围内，如果商品已过期，系统提示营业员并阻止结账操作。
5. 营业员确认并保存结账结果。
6. 系统验证输入的信息是否有效，并更新库存数量和销售记录。

##### 3.3.4.6 创建上架计划

1. 管理员选择创建上架计划的选项。
2. 管理员选择要上架的商品和对应的数量。
3. 管理员确认并保存上架计划。
4. 系统验证输入的信息是否有效，并生成上架计划。

##### 3.3.4.7 生成上架单

1. 管理员选择生成上架单的选项。
2. 系统根据上架计划生成上架单。
3. 系统将上架单交给营业员。

##### 3.3.4.8 完成上架

1. 营业员接收到上架单。
2. 营业员选择完成上架的选项。
3. 营业员根据上架单的指示将商品上架。
4. 营业员确认上架完成并保存上架记录。
5. 系统验证输入的信息是否有效，并更新库存数量和相关记录。

##### 3.3.4.9 生成销售报告

1. 营业员或管理员选择生成销售报告的选项。
2. 用户选择报告的时间范围、销售区域或其他筛选条件。
3. 系统根据选择的条件生成销售报告，包括销售总额、销售数量、销售趋势等信息。
4. 系统显示生成的销售报告，可以按日期、产品类别等进行排序和筛选。

##### 3.3.4.10 进行销售数据分析

1. 营业员或管理员选择进行销售数据分析的选项。
2. 用户选择要分析的数据维度，例如产品类别、销售地区等。
3. 系统根据选择的数据维度进行销售数据分析，例如计算不同产品类别的销售比例、分析销售地区的销售增长率等。
4. 系统显示分析结果，可以以图表、图形或表格的形式呈现。

##### 3.3.4.11 生成每日上架商品清单和自动生成补货单

1. 系统在每天的特定时间（例如早上）自动生成每日上架商品清单。
2. 系统根据销售数据和库存情况，自动计算每个商品的销售量和库存量。
3. 系统比较每个商品的销售量与设定的阈值进行对比，确定是否需要补货。
4. 对于销售量超过阈值的商品，系统将其添加到每日上架商品清单中。
5. 对于销售量低于阈值的商品，系统自动生成补货单，并将其发送给管理员。
6. 管理员收到补货单后，可以查看补货清单，并确认是否进行补货。
7. 如果管理员确认进行补货，系统将根据补货单的内容，自动更新库存并生成相应的采购订单。
8. 如果管理员不确认进行补货，系统将不进行任何操作。

## 4. 对其他需求的影响

### 4.1 用户行为数据分析（未来版本考虑）

分析用户的操作习惯、购买偏好、热门商品等，以帮助优化系统功能和用户体验。

## 5 非功能需求

### 5.1 性能要求

- 响应时间：系统应在3秒内响应用户请求。
- 并发处理：系统应支持至少50个并发用户。
- 扩展性：系统应支持适应性扩展，能够根据负载情况自动调整服务器数量。

### 5.2 安全要求

- 身份验证：系统应提供多种身份验证方式，如用户名和密码、单点登录等。
- 数据加密：系统应加密存储和传输所有敏感数据，包括用户信息和支付信息。
- 访问控制：系统应提供细粒度的访问控制，基于角色和权限进行授权管理。
- 审计日志：系统应记录详细的用户操作日志和系统事件，包括登录、数据修改等。

### 5.3 备份与恢复要求

- 数据备份：系统应定期备份数据，频率可以根据数据重要性进行调整。
- 备份存储：备份数据应存储在可靠的介质或云平台上，并进行加密保护。
- 数据恢复：系统应提供可靠的数据恢复机制，能够快速恢复数据以应对意外故障或灾难情况。

### 5.4 系统日志

- 操作日志：系统应记录关键操作的日志，包括用户操作、数据修改等。
- 异常日志：系统应记录系统错误和异常的日志，以便进行故障排查和问题解决。
- 日志存储：日志应存储在可靠的介质或云平台上，并设置合适的日志保留期限。

### 5.5 用户界面要求

- 用户友好：系统界面应简洁、直观，并提供一致的用户体验。
- 响应式设计：系统界面应能够自适应不同设备和屏幕大小，确保良好的用户体验。
- 导航和搜索：系统应提供直观的导航菜单和高效的搜索功能，以便用户快速找到所需信息。
- 帮助和文档：系统应提供清晰的帮助文档、用户指南或在线帮助，以辅助用户操作和解决问题。

### 5.6 系统部署要求

- 硬件要求：服务器配置应满足系统的性能需求，包括处理器、内存、存储等方面。
- 操作系统：服务器应支持系统的运行和部署，推荐使用稳定且广泛支持的操作系统。
- 软件依赖：系统所依赖的软件和库应正确安装、配置和版本管理，以确保系统的稳定性和安全性。
- 网络要求：服务器应具备稳定的网络连接，并采取相应的网络安全措施，如防火墙、入侵检测等。

## 接口说明

### 6.1 RESTful API接口

- 接口设计：设计符合RESTful架构风格的API接口，包括清晰的URL结构和适当的HTTP方法使用。
- 接口文档：提供详细的接口文档，包括功能描述、参数说明和返回值说明，以便第三方应用集成和调用。

### 6.2 数据库接口

- 数据库选择：选择适合系统需求的数据库系统，如MySQL或PostgreSQL。
- 数据库设计：进行合理的数据库设计，包括表结构设计和索引设计。
- 数据库操作：提供简洁易用的数据库操作接口，支持数据的读写和查询。

### 6.3 商品扫描接口

本系统需要提供商品扫描接口，用于实现商品条码的扫描和识别。具体的要求包括：

- 扫描功能：接口应支持使用设备的摄像头或外接扫描设备进行商品条码的扫描。
- 条码识别：接口应能够对扫描到的商品条码进行识别和解析，获取商品的相关信息。
- 商品查询：接口应提供查询商品信息的功能，根据条码或其他标识符查询商品的名称、价格、库存等信息。
- 错误处理：接口应能够处理扫描过程中可能出现的错误情况，例如无法识别的条码、网络连接问题等。

## 7. 附件
